*** Settings ***
Library           AppiumLibrary

*** Variables ***
${REMOTE_URL}     http://localhost:4723/wd/hub
${PLATFORM_NAME}    Android
${PLATFORM_VERSION}    6.0
${DEVICE_NAME}    192.168.39.101:5555
${APP}            com.temanbumil.android
${APP_PACKAGE}    com.temanbumil.android
${APP_ACTIVITY1}    com.temanbumil.android.authentication.AuthenticationActivity
${FIRST_NAME}     Ciwi
${LAST_NAME}      notifff
${EMAIL_USER}     getnotiftes2@yopmail.com
${PASSWORD_USER}    12345678
${APP_ACTIVITY2}    com.temanbumil.android.verification.VerificationActivity
${HOME_ACTIVITY}    com.temanbumil.android.home.HomeActivity

*** Test Cases ***
Register
    [Documentation]    Register new member untuk mendapatkan welcome notification
    #Open Teman Bumil Apps
    Open Application    ${REMOTE_URL}    platformName=${PLATFORM_NAME}    platformVersion=${PLATFORM_VERSION}    deviceName=${DEVICE_NAME}    app=${APP}    appPackage=${APP_PACKAGE}
    ...    appActivity=${APP_ACTIVITY1}
    #Wait Apps Open & Open Register Page
    Wait Until Element Is Visible    id=text
    Click Element    xpath=//android.widget.TextView[@text='REGISTER']
    Element Name Should Be    id=btn_Register    REGISTER
    #Input Name, Email, Password & Click Login
    Input Text    id=et_first_name    ${FIRST_NAME}
    Input Text    id=et_last_name    ${LAST_NAME}
    Input Text    id=et_email    ${EMAIL_USER}
    Input Password    id=pv_pwd    ${PASSWORD_USER}
    Click Element    id=cb_tos
    Click Element    id=btn_Register
    #Wait Element untuk input kode OTP secara manual (ambil dari email)
    Wait Until Element Is Visible    xpath=//android.widget.TextView[@text='Verifikasi Email']    5    Email sudah terdaftar / Something wrong with Server
